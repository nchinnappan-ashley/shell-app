{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/layout/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  HomeIcon,\n  BuildingOfficeIcon,\n  TruckIcon,\n  CurrencyDollarIcon,\n  UserGroupIcon,\n  DocumentTextIcon,\n  CubeIcon,\n  ServerIcon,\n  PlusIcon,\n  Squares2X2Icon\n} from '@heroicons/react/24/outline';\nimport clsx from 'clsx';\n\ninterface Department {\n  id: string;\n  name: string;\n  icon: React.ComponentType<{ className?: string }>;\n  color: string;\n}\n\nconst departments: Department[] = [\n  { id: 'ashleydirect', name: 'Ashley Direct', icon: Squares2X2Icon, color: 'bg-blue-500' },\n  { id: 'ashleynet', name: 'Ashley Net', icon: BuildingOfficeIcon, color: 'bg-green-500' },\n  { id: 'supplier', name: 'Supplier', icon: TruckIcon, color: 'bg-purple-500' },\n  { id: 'finance', name: 'Finance', icon: CurrencyDollarIcon, color: 'bg-yellow-500' },\n  { id: 'hr', name: 'HR', icon: UserGroupIcon, color: 'bg-pink-500' },\n  { id: 'payroll', name: 'Payroll', icon: DocumentTextIcon, color: 'bg-indigo-500' },\n  { id: 'transportation', name: 'Transportation', icon: TruckIcon, color: 'bg-orange-500' },\n  { id: 'highjump', name: 'HighJump', icon: CubeIcon, color: 'bg-teal-500' },\n  { id: 'as400', name: 'AS400', icon: ServerIcon, color: 'bg-red-500' },\n];\n\ninterface SidebarProps {\n  selectedDepartment: string | null;\n  onDepartmentSelect: (department: string | null) => void;\n  onPlusClick?: () => void;\n}\n\nexport function Sidebar({ selectedDepartment, onDepartmentSelect, onPlusClick }: SidebarProps) {\n  const router = useRouter();\n  return (\n    <div className=\"w-16 bg-white border-r border-gray-200 flex flex-col items-center py-4 space-y-4\">\n      {/* Logo/Home */}\n      <button\n        onClick={() => { onDepartmentSelect(null); router.push('/'); }}\n        className={clsx(\n          'w-10 h-10 rounded-lg flex items-center justify-center transition-colors',\n          selectedDepartment === null \n            ? 'bg-gray-900 text-white' \n            : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n        )}\n      >\n        <HomeIcon className=\"w-5 h-5\" />\n      </button>\n\n      {/* Add New (opens recent searches) */}\n      <button\n        onClick={() => onPlusClick?.()}\n        aria-label=\"Open recent searches\"\n        className=\"w-10 h-10 rounded-lg bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600 flex items-center justify-center transition-colors\"\n      >\n        <PlusIcon className=\"w-5 h-5\" />\n      </button>\n\n      {/* Departments */}\n      <div className=\"flex flex-col space-y-3\">\n        {departments.map((dept) => {\n          const IconComponent = dept.icon;\n          return (\n            <button\n              key={dept.id}\n              onClick={() => { onDepartmentSelect(dept.id); router.push(`/apps/${dept.id}`); }}\n              className={clsx(\n                'w-10 h-10 rounded-lg flex items-center justify-center transition-colors',\n                selectedDepartment === dept.id\n                  ? `${dept.color} text-white`\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n              )}\n              title={dept.name}\n            >\n              <IconComponent className=\"w-5 h-5\" />\n            </button>\n          );\n        })}\n      </div>\n\n      {/* User Profile */}\n      <div className=\"mt-auto\">\n        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium text-sm\">\n          U\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAhBA;;;;;AAyBA,MAAM,cAA4B;IAChC;QAAE,IAAI;QAAgB,MAAM;QAAiB,MAAM,6OAAc;QAAE,OAAO;IAAc;IACxF;QAAE,IAAI;QAAa,MAAM;QAAc,MAAM,yPAAkB;QAAE,OAAO;IAAe;IACvF;QAAE,IAAI;QAAY,MAAM;QAAY,MAAM,8NAAS;QAAE,OAAO;IAAgB;IAC5E;QAAE,IAAI;QAAW,MAAM;QAAW,MAAM,yPAAkB;QAAE,OAAO;IAAgB;IACnF;QAAE,IAAI;QAAM,MAAM;QAAM,MAAM,0OAAa;QAAE,OAAO;IAAc;IAClE;QAAE,IAAI;QAAW,MAAM;QAAW,MAAM,mPAAgB;QAAE,OAAO;IAAgB;IACjF;QAAE,IAAI;QAAkB,MAAM;QAAkB,MAAM,8NAAS;QAAE,OAAO;IAAgB;IACxF;QAAE,IAAI;QAAY,MAAM;QAAY,MAAM,2NAAQ;QAAE,OAAO;IAAc;IACzE;QAAE,IAAI;QAAS,MAAM;QAAS,MAAM,iOAAU;QAAE,OAAO;IAAa;CACrE;AAQM,SAAS,QAAQ,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,WAAW,EAAgB;IAC3F,MAAM,SAAS,IAAA,+IAAS;IACxB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,SAAS;oBAAQ,mBAAmB;oBAAO,OAAO,IAAI,CAAC;gBAAM;gBAC7D,WAAW,IAAA,gJAAI,EACb,2EACA,uBAAuB,OACnB,2BACA;0BAGN,cAAA,8OAAC,2NAAQ;oBAAC,WAAU;;;;;;;;;;;0BAItB,8OAAC;gBACC,SAAS,IAAM;gBACf,cAAW;gBACX,WAAU;0BAEV,cAAA,8OAAC,2NAAQ;oBAAC,WAAU;;;;;;;;;;;0BAItB,8OAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC;oBAChB,MAAM,gBAAgB,KAAK,IAAI;oBAC/B,qBACE,8OAAC;wBAEC,SAAS;4BAAQ,mBAAmB,KAAK,EAAE;4BAAG,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;wBAAG;wBAC/E,WAAW,IAAA,gJAAI,EACb,2EACA,uBAAuB,KAAK,EAAE,GAC1B,GAAG,KAAK,KAAK,CAAC,WAAW,CAAC,GAC1B;wBAEN,OAAO,KAAK,IAAI;kCAEhB,cAAA,8OAAC;4BAAc,WAAU;;;;;;uBAVpB,KAAK,EAAE;;;;;gBAalB;;;;;;0BAIF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAAuI;;;;;;;;;;;;;;;;;AAM9J","debugId":null}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/theme/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { SunIcon, MoonIcon, ComputerDesktopIcon } from \"@heroicons/react/24/outline\";\n\n// Simple theme manager that toggles between light, dark, and system.\n// Applies the theme by setting document.documentElement.dataset.theme\n// and persists choice in localStorage under key \"theme\".\n\ntype Theme = \"light\" | \"dark\" | \"system\";\n\nfunction getSystemTheme(): \"light\" | \"dark\" {\n  if (typeof window === \"undefined\") return \"light\";\n  return window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    ? \"dark\"\n    : \"light\";\n}\n\nfunction applyTheme(theme: Theme) {\n  if (typeof document === \"undefined\") return;\n  const root = document.documentElement;\n  if (theme === \"system\") {\n    root.removeAttribute(\"data-theme\");\n    // Let system take over; set color-scheme to current system for better native UI\n    const cs = getSystemTheme();\n    root.style.colorScheme = cs;\n  } else {\n    root.setAttribute(\"data-theme\", theme);\n    root.style.colorScheme = theme;\n  }\n}\n\n// Brand color selection\ntype Color = \"blue\" | \"emerald\" | \"violet\";\n\nfunction applyColor(color: Color) {\n  if (typeof document === \"undefined\") return;\n  const root = document.documentElement;\n  root.setAttribute(\"data-color\", color);\n}\n\n\nexport function ThemeToggle() {\n  const [theme, setTheme] = useState<Theme>(\"system\");\n  const [color, setColor] = useState<Color>(\"blue\");\n\n  const [open, setOpen] = useState(false);\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  const [mounted, setMounted] = useState(false);\n\n  // On mount, read stored preference and apply\n  useEffect(() => {\n    try {\n      const storedTheme = (localStorage.getItem(\"theme\") as Theme | null) ?? \"system\";\n      const storedColor = (localStorage.getItem(\"color\") as Color | null) ?? \"blue\";\n      setTheme(storedTheme);\n      setColor(storedColor);\n      applyTheme(storedTheme);\n      applyColor(storedColor);\n    } catch {\n      // ignore\n    }\n  }, []);\n\n  // mark mounted to avoid SSR/CSR mismatch\n  useEffect(() => { setMounted(true); }, []);\n\n  // If user chooses system, reflect live system changes in the icon after mount\n  const systemTheme = useMemo(() => (typeof window !== \"undefined\" ? getSystemTheme() : \"light\"), []);\n  useEffect(() => {\n    if (!mounted) return;\n    if (theme !== \"system\" || typeof window === \"undefined\") return;\n    const mq = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const onChange = () => applyTheme(\"system\");\n    mq.addEventListener?.('change', onChange);\n    return () => mq.removeEventListener?.('change', onChange);\n  }, [theme, mounted]);\n\n  // Close popover when clicking outside\n  useEffect(() => {\n    const onDown = (e: MouseEvent) => {\n      if (!rootRef.current) return;\n      if (!rootRef.current.contains(e.target as Node)) setOpen(false);\n    };\n    document.addEventListener('mousedown', onDown);\n    return () => document.removeEventListener('mousedown', onDown);\n  }, []);\n\n\n  const shown: \"light\" | \"dark\" = mounted ? (theme === \"system\" ? getSystemTheme() : theme) : \"light\";\n\n  const cycle = () => {\n    const next: Theme = theme === \"light\" ? \"dark\" : theme === \"dark\" ? \"system\" : \"light\";\n    setTheme(next);\n    try {\n      localStorage.setItem(\"theme\", next);\n    } catch {}\n    applyTheme(next);\n  };\n\n  const Icon = shown === \"dark\" ? MoonIcon : shown === \"light\" ? SunIcon : ComputerDesktopIcon;\n  const label = theme === \"system\" ? `System (${shown})` : shown === \"dark\" ? \"Dark\" : \"Light\";\n\n  const choose = (c: Color) => {\n    setColor(c);\n    try { localStorage.setItem(\"color\", c); } catch {}\n    applyColor(c);\n  };\n\n  return (\n    <div ref={rootRef} className=\"relative\">\n      <button\n        type=\"button\"\n        aria-label={`Theme: ${label} (click to open color picker)`}\n        title={`Theme: ${label}`}\n        onClick={() => setOpen((v) => !v)}\n        className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n      >\n        <Icon className=\"w-5 h-5\" />\n      </button>\n      {open && (\n        <div className=\"absolute right-0 top-10 z-50 bg-white/95 dark:bg-slate-900/95 border border-gray-200/70 dark:border-gray-700/60 rounded-lg shadow-lg p-2 flex items-center gap-2 backdrop-blur-sm\">\n          <button\n            type=\"button\"\n            onClick={() => { choose('blue'); setOpen(false); }}\n            aria-label=\"Blue theme\"\n            className={`h-6 w-6 rounded-full ring-2 ring-offset-1 ${color === 'blue' ? 'ring-gray-400' : 'ring-transparent'}`}\n            style={{ backgroundColor: '#3b82f6' }}\n          />\n          <button\n            type=\"button\"\n            onClick={() => { choose('emerald'); setOpen(false); }}\n            aria-label=\"Emerald theme\"\n            className={`h-6 w-6 rounded-full ring-2 ring-offset-1 ${color === 'emerald' ? 'ring-gray-400' : 'ring-transparent'}`}\n            style={{ backgroundColor: '#10b981' }}\n          />\n          <button\n            type=\"button\"\n            onClick={() => { choose('violet'); setOpen(false); }}\n            aria-label=\"Violet theme\"\n            className={`h-6 w-6 rounded-full ring-2 ring-offset-1 ${color === 'violet' ? 'ring-gray-400' : 'ring-transparent'}`}\n            style={{ backgroundColor: '#8b5cf6' }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ThemeToggle;\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/layout/Header.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Image from 'next/image';\nimport {\n  MagnifyingGlassIcon,\n  BellIcon,\n  Cog6ToothIcon\n} from '@heroicons/react/24/outline';\nimport { ThemeToggle } from '../theme/ThemeToggle';\n\nexport function Header() {\n  return (\n    <header className=\"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6\">\n      {/* Search Bar */}\n      <div className=\"flex-1 max-w-2xl\">\n        <div className=\"relative\">\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Ask anything, create anything\"\n            className=\"w-full pl-10 pr-4 py-2 text-gray-900 placeholder-gray-500 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--ring)] focus:border-transparent\"\n          />\n        </div>\n      </div>\n\n      {/* Right Side Actions */}\n      <div className=\"flex items-center space-x-4\">\n        {/* Notifications */}\n        <button className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\">\n          <BellIcon className=\"w-5 h-5\" />\n        </button>\n\n        {/* Theme */}\n        <ThemeToggle />\n\n        {/* Settings */}\n        <button className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\">\n          <Cog6ToothIcon className=\"w-5 h-5\" />\n        </button>\n\n        {/* Ashley logo icon */}\n        <div className=\"h-8 w-auto flex items-center\">\n          <Image\n            src=\"/AshleyLogoLLCOrangeBlack.png\"\n            alt=\"Ashley\"\n            width={104}\n            height={32}\n            priority\n          />\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAKA;AATA;;;;;AAWO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;;0BAEhB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4PAAmB;4BAAC,WAAU;;;;;;sCAC/B,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;;;;;;;;;;;;;;;;;0BAMhB,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC,2NAAQ;4BAAC,WAAU;;;;;;;;;;;kCAItB,8OAAC,yJAAW;;;;;kCAGZ,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC,0OAAa;4BAAC,WAAU;;;;;;;;;;;kCAI3B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,wIAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,QAAQ;;;;;;;;;;;;;;;;;;;;;;;AAMpB","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/utils/searchHistory.ts"],"sourcesContent":["\"use client\";\n\n// Simple localStorage-backed search history tracker\n// Stores up to 10 entries, most recent first. Dedupes by app id (or query if id missing).\n\nexport type SearchHistoryItem = {\n  id?: string;         // app id if known\n  title?: string;      // app title if known\n  query: string;       // raw query typed/spoken\n  path?: string;       // navigation path to execute (e.g. /apps/{id})\n  ts: number;          // timestamp ms\n  count: number;       // times used\n};\n\nconst STORAGE_KEY = \"search_history_v1\";\n\nexport function readHistory(): SearchHistoryItem[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    if (!raw) return [];\n    const arr = JSON.parse(raw) as SearchHistoryItem[];\n    if (!Array.isArray(arr)) return [];\n    return arr;\n  } catch {\n    return [];\n  }\n}\n\nfunction writeHistory(items: SearchHistoryItem[]) {\n  if (typeof window === \"undefined\") return;\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(items.slice(0, 10)));\n  } catch {\n    // ignore\n  }\n}\n\nexport function recordSearch(entry: Omit<SearchHistoryItem, \"ts\" | \"count\">) {\n  const prev = readHistory();\n  const ts = Date.now();\n  // Try to match by id first, else by query\n  const idx = prev.findIndex((it) => (entry.id && it.id === entry.id) || (!entry.id && it.query.toLowerCase() === entry.query.toLowerCase()));\n  if (idx >= 0) {\n    const existing = prev[idx];\n    const updated: SearchHistoryItem = {\n      ...existing,\n      ...entry,\n      ts,\n      count: (existing.count || 0) + 1,\n    };\n    const reordered = [updated, ...prev.filter((_, i) => i !== idx)];\n    writeHistory(reordered);\n    return;\n  }\n  const next: SearchHistoryItem = { ...entry, ts, count: 1 };\n  const list = [next, ...prev].sort((a, b) => b.ts - a.ts).slice(0, 10);\n  writeHistory(list);\n}\n\nexport function clearHistory() {\n  writeHistory([]);\n}\n\n"],"names":[],"mappings":";;;;;;;;AAAA;AAcA,MAAM,cAAc;AAEb,SAAS;IACd,wCAAmC,OAAO,EAAE;;;AAU9C;AAEA,SAAS,aAAa,KAA0B;IAC9C,wCAAmC;;;AAMrC;AAEO,SAAS,aAAa,KAA8C;IACzE,MAAM,OAAO;IACb,MAAM,KAAK,KAAK,GAAG;IACnB,0CAA0C;IAC1C,MAAM,MAAM,KAAK,SAAS,CAAC,CAAC,KAAO,AAAC,MAAM,EAAE,IAAI,GAAG,EAAE,KAAK,MAAM,EAAE,IAAM,CAAC,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,WAAW,OAAO,MAAM,KAAK,CAAC,WAAW;IACvI,IAAI,OAAO,GAAG;QACZ,MAAM,WAAW,IAAI,CAAC,IAAI;QAC1B,MAAM,UAA6B;YACjC,GAAG,QAAQ;YACX,GAAG,KAAK;YACR;YACA,OAAO,CAAC,SAAS,KAAK,IAAI,CAAC,IAAI;QACjC;QACA,MAAM,YAAY;YAAC;eAAY,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;SAAK;QAChE,aAAa;QACb;IACF;IACA,MAAM,OAA0B;QAAE,GAAG,KAAK;QAAE;QAAI,OAAO;IAAE;IACzD,MAAM,OAAO;QAAC;WAAS;KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,KAAK,CAAC,GAAG;IAClE,aAAa;AACf;AAEO,SAAS;IACd,aAAa,EAAE;AACjB","debugId":null}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/layout/MainContent.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport catalogData from '@/data/catalog.json';\nimport { recordSearch } from '@/utils/searchHistory';\nimport dynamic from 'next/dynamic';\nconst ForYouFeather = dynamic(() => import('./ForYouFeather'), { ssr: false });\nimport { \n  PresentationChartLineIcon,\n  TableCellsIcon,\n  ChatBubbleLeftRightIcon,\n  DocumentTextIcon,\n  ChartBarIcon,\n  CodeBracketIcon,\n  PhotoIcon,\n  VideoCameraIcon,\n  MicrophoneIcon,\n  SparklesIcon\n} from '@heroicons/react/24/outline';\n\nimport aiAgentsData from '@/data/ai-agents.json';\n\ntype IconKey =\n  | 'PresentationChartLineIcon'\n  | 'TableCellsIcon'\n  | 'ChatBubbleLeftRightIcon'\n  | 'DocumentTextIcon'\n  | 'ChartBarIcon'\n  | 'CodeBracketIcon'\n  | 'PhotoIcon'\n  | 'VideoCameraIcon'\n  | 'MicrophoneIcon'\n  | 'SparklesIcon';\n\nconst ICONS = {\n  PresentationChartLineIcon,\n  TableCellsIcon,\n  ChatBubbleLeftRightIcon,\n  DocumentTextIcon,\n  ChartBarIcon,\n  CodeBracketIcon,\n  PhotoIcon,\n  VideoCameraIcon,\n  MicrophoneIcon,\n  SparklesIcon,\n};\n\ninterface AIAgent {\n  id: string;\n  name: string;\n  description: string;\n  icon: React.ComponentType<{ className?: string }>;\n  isNew?: boolean;\n  isHot?: boolean;\n}\n\ntype AIAgentJson = {\n  id: string;\n  name: string;\n  description: string;\n  icon: IconKey;\n  isNew?: boolean;\n  isHot?: boolean;\n};\n\nconst aiAgents: AIAgent[] = (aiAgentsData as AIAgentJson[]).map((a) => ({\n  id: a.id,\n  name: a.name,\n  description: a.description,\n  icon: ICONS[a.icon] || SparklesIcon,\n  isNew: a.isNew,\n  isHot: a.isHot,\n}));\n\nexport function MainContent() {\n  const router = useRouter();\n  type AppEntry = { id: string; title: string };\n  const apps = catalogData as unknown as AppEntry[];\n  const [query, setQuery] = useState('');\n  const [active, setActive] = useState(0);\n  const [listening, setListening] = useState(false);\n\n  const normalize = (s: string) => s.toLowerCase().replace(/[^a-z0-9 ]/g, ' ').replace(/\\s+/g, ' ').trim();\n  const findBestApp = (input: string): AppEntry | undefined => {\n    const q = normalize(input);\n    if (!q) return undefined;\n    let best: { score: number; app: AppEntry } | undefined;\n    for (const a of apps) {\n      const t = normalize(a.title);\n      let score = 0;\n      if (t === q) score = 100;\n      else if (t.startsWith(q) || q.startsWith(t)) score = 80;\n      else if (t.includes(q) || q.includes(t)) score = 60;\n      else {\n        const qt = new Set(q.split(' '));\n        const tt = new Set(t.split(' '));\n        let overlap = 0;\n        qt.forEach(w => { if (tt.has(w)) overlap++; });\n        if (overlap > 0) score = 40 + overlap;\n      }\n      if (!best || score > best.score) best = { score, app: a };\n    }\n    if (best && best.score >= 60) return best.app;\n    return undefined;\n  };\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return [] as AppEntry[];\n    return apps.filter(a => a.title.toLowerCase().includes(q)).slice(0, 7);\n  }, [apps, query]);\n  const go = (id: string) => {\n    const app = apps.find(a => a.id === id);\n    const path = `/apps/${id}`;\n    recordSearch({ id, title: app?.title, query: (query || app?.title || '').trim(), path });\n    router.push(path);\n  };\n  const onKeyDown: React.KeyboardEventHandler<HTMLInputElement> = (e) => {\n    if (!filtered.length) return;\n    if (e.key === 'ArrowDown') { e.preventDefault(); setActive(i => Math.min(i + 1, filtered.length - 1)); }\n    else if (e.key === 'ArrowUp') { e.preventDefault(); setActive(i => Math.max(i - 1, 0)); }\n    else if (e.key === 'Enter') { e.preventDefault(); go(filtered[Math.max(0, active)].id); }\n  };\n\n  const startVoice = () => {\n    if (typeof window === 'undefined') return;\n    const SR: any = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\n    if (!SR) { alert('Voice recognition is not supported in this browser.'); return; }\n    const rec = new SR();\n    rec.lang = 'en-US';\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    setListening(true);\n    rec.onresult = (ev: any) => {\n      const t = ev?.results?.[0]?.[0]?.transcript || '';\n      const q = String(t).trim();\n      setQuery(q);\n      const match = findBestApp(q);\n      if (match) go(match.id);\n    };\n    rec.onerror = () => setListening(false);\n    rec.onend = () => setListening(false);\n    rec.start();\n  };\n\n  return (\n    <div className=\"flex-1 p-8\">\n      {/* Hero Section */}\n      <div className=\"text-center mb-12\">\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n          One Ashley Super Agent\n        </h1>\n        <p className=\"text-lg text-gray-700 mb-8\">\n          Ask anything, create anything\n        </p>\n        \n        {/* Main Search Bar */}\n        <div className=\"max-w-2xl mx-auto mb-8\">\n          <div className=\"relative group\">\n            <input\n              type=\"text\"\n              placeholder=\"Ask anything, create anything\"\n              value={query}\n              onChange={(e) => { setQuery(e.target.value); setActive(0); }}\n              onKeyDown={onKeyDown}\n              className=\"w-full px-6 py-4 text-lg text-gray-900 placeholder-gray-500 bg-white/80 backdrop-blur border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[var(--ring)] focus:border-transparent shadow-sm hover:shadow-md focus:shadow-lg transition-all duration-300 placeholder:transition-opacity focus:placeholder-opacity-70\"\n            />\n            {/* Icons inside input */}\n            <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2 flex items-center space-x-2\">\n              <button\n                type=\"button\"\n                onClick={startVoice}\n                aria-pressed={listening}\n                className={`p-2 rounded-lg transition-all duration-200 ${listening ? 'text-[var(--ring)] bg-gray-100 animate-pulse' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100 hover:rotate-6 active:scale-95'}`}\n              >\n                <MicrophoneIcon className=\"w-5 h-5\" />\n              </button>\n              <button className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-all duration-200 hover:rotate-3 active:scale-95\">\n                <PhotoIcon className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* Suggestions dropdown */}\n            {filtered.length > 0 && (\n              <ul className=\"absolute left-0 right-0 mt-2 z-20 bg-white rounded-xl shadow-lg ring-1 ring-gray-200 overflow-hidden\">\n                {filtered.map((a, i) => (\n                  <li key={a.id}>\n                    <button\n                      type=\"button\"\n                      className={`w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-gray-50 ${i === active ? 'bg-gray-50' : ''}`}\n                      onMouseDown={(e) => e.preventDefault()}\n                      onClick={() => go(a.id)}\n                    >\n                      <div className=\"w-7 h-7 rounded-md brand-soft brand-text flex items-center justify-center text-xs font-semibold\">\n                        {a.title.split(' ').map(w => w[0]).join('').slice(0,3).toUpperCase()}\n                      </div>\n                      <span className=\"text-sm text-gray-900\">{a.title}</span>\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n\n\n      </div>\n\n      {/* AI Agents Grid */}\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8\">\n          {aiAgents.map((agent) => {\n            const IconComponent = agent.icon;\n            return (\n              <div\n                key={agent.id}\n                className=\"relative bg-white rounded-xl p-4 border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all cursor-pointer group\"\n              >\n                {/* Badges */}\n                {agent.isNew && (\n                  <span className=\"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full\">\n                    NEW\n                  </span>\n                )}\n                {agent.isHot && (\n                  <span className=\"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full\">\n                    HOT\n                  </span>\n                )}\n                \n                <div className=\"w-12 h-12 rounded-lg brand-soft brand-text flex items-center justify-center mb-3\">\n                  <IconComponent className=\"w-6 h-6\" />\n                </div>\n                <h3 className=\"font-medium text-gray-900 mb-1\">{agent.name}</h3>\n                <p className=\"text-sm text-gray-500\">{agent.description}</p>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* For You Section - Feather fan on scroll */}\n        <div className=\"mt-2\">\n          <ForYouFeather />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 947, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/layout/SearchHistoryDrawer.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { readHistory, SearchHistoryItem, clearHistory } from \"@/utils/searchHistory\";\nimport { XMarkIcon, MagnifyingGlassIcon, ClockIcon } from \"@heroicons/react/24/outline\";\nimport catalogData from \"@/data/catalog.json\";\nimport { BuildingOfficeIcon, TruckIcon, CurrencyDollarIcon, UserGroupIcon, DocumentTextIcon, CubeIcon, ServerIcon, ChartBarIcon, Squares2X2Icon, SquaresPlusIcon } from \"@heroicons/react/24/outline\";\n\nconst ICONS: Record<string, React.ComponentType<{ className?: string }>> = {\n  BuildingOfficeIcon,\n  TruckIcon,\n  CurrencyDollarIcon,\n  UserGroupIcon,\n  DocumentTextIcon,\n  CubeIcon,\n  ServerIcon,\n  ChartBarIcon,\n  Squares2X2Icon,\n  SquaresPlusIcon,\n};\n\n// quick map of app id -> icon string\nconst CATALOG_ICON_BY_ID: Record<string, string | undefined> = Object.fromEntries(\n  (catalogData as any[]).map((c) => [c.id, c.icon])\n);\n\nexport default function SearchHistoryDrawer({ open, onClose }: { open: boolean; onClose: () => void }) {\n  const [items, setItems] = useState<SearchHistoryItem[]>([]);\n  const [filterQ, setFilterQ] = useState('');\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!open) return;\n    setItems(readHistory());\n  }, [open]);\n\n  const go = (it: SearchHistoryItem) => {\n    const path = it.path || (it.id ? `/apps/${it.id}` : undefined);\n    if (path) router.push(path);\n    onClose();\n  };\n\n  const timeAgo = (ts: number) => {\n    const d = Date.now() - ts;\n    const m = Math.floor(d / 60000);\n    if (m < 1) return 'just now';\n    if (m < 60) return m + 'm';\n    const h = Math.floor(m / 60);\n    if (h < 24) return h + 'h';\n    const days = Math.floor(h / 24);\n    return days + 'd';\n  };\n\n  const display = (filterQ\n    ? items.filter(it => (it.title || '').toLowerCase().includes(filterQ.toLowerCase()) || it.query.toLowerCase().includes(filterQ.toLowerCase()))\n    : items\n  ).slice(0, 10);\n\n  if (!open) return null;\n\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      {/* Backdrop */}\n      <button aria-label=\"Close\" onClick={onClose} className=\"absolute inset-0 bg-black/30\" />\n\n      {/* Drawer */}\n      <aside className=\"absolute left-0 top-0 h-full w-[320px] bg-white shadow-xl ring-1 ring-black/5 flex flex-col\">\n        <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200\">\n          <div className=\"text-sm font-semibold text-gray-800\">Task List</div>\n          <div className=\"flex items-center gap-2\">\n            <button onClick={() => { clearHistory(); setItems([]); }} className=\"text-xs text-gray-500 hover:text-gray-700\">Clear</button>\n            <button onClick={onClose} className=\"p-1 rounded hover:bg-gray-100\">\n              <XMarkIcon className=\"w-5 h-5 text-gray-500\" />\n            </button>\n          </div>\n        </div>\n        {/* Search inside drawer */}\n        <div className=\"px-4 py-2 border-b border-gray-200\">\n          <div className=\"relative\">\n            <input\n              value={filterQ}\n              onChange={(e) => setFilterQ(e.target.value)}\n              placeholder=\"Search tasks\"\n              className=\"w-full pl-8 pr-3 py-2 text-sm bg-white/80 backdrop-blur border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[var(--ring)] shadow-sm hover:shadow-md focus:shadow-lg transition-all duration-300 placeholder:transition-opacity focus:placeholder-opacity-80\"\n            />\n            <MagnifyingGlassIcon className=\"w-4 h-4 text-gray-400 absolute left-2.5 top-1/2 -translate-y-1/2\" />\n          </div>\n        </div>\n\n\n        <div className=\"flex-1 overflow-auto py-2\">\n          {items.length === 0 ? (\n            <div className=\"px-4 py-6 text-sm text-gray-500\">No recent searches yet.</div>\n          ) : (\n            <>\n              <div className=\"px-4 text-[11px] uppercase tracking-wide text-gray-400 mb-2\">Today</div>\n              <ul className=\"px-2 space-y-1\">\n                {display.map((it, idx) => {\n                  const iconName = (it.id && CATALOG_ICON_BY_ID[it.id]) || undefined;\n                  const Icon = (iconName && ICONS[iconName]) || ClockIcon;\n                  return (\n                    <li key={idx}>\n\n                      <button onClick={() => go(it)} className=\"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 text-left\">\n                        <span className=\"inline-flex items-center justify-center w-7 h-7 rounded-md bg-gray-100 text-gray-600\">\n                          <Icon className=\"w-4 h-4\" />\n                        </span>\n                        <span className=\"flex-1\">\n                          <div className=\"text-sm text-gray-900 line-clamp-1\">{it.title || it.query}</div>\n                          {it.title && (\n                            <div className=\"text-xs text-gray-500 line-clamp-1\">{it.query}</div>\n                          )}\n                        </span>\n                        <span className=\"text-[10px] text-gray-400\">×{it.count || 1} · {timeAgo(it.ts)}</span>\n                      </button>\n                    </li>\n                  );\n                })}\n              </ul>\n            </>\n          )}\n        </div>\n\n        <div className=\"px-4 py-3 border-t border-gray-200 text-xs text-gray-500\">\n          Tip: Click an item to repeat the same action.\n        </div>\n      </aside>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1252, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/layout/ShellLayout.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Sidebar } from './Sidebar';\nimport { Header } from './Header';\nimport { MainContent } from './MainContent';\nimport dynamic from 'next/dynamic';\nimport SearchHistoryDrawer from './SearchHistoryDrawer';\nimport { MegaphoneIcon, EnvelopeIcon, UserGroupIcon, ChatBubbleLeftRightIcon, Squares2X2Icon } from '@heroicons/react/24/outline';\n\nconst NotificationTray = dynamic(() => import('./NotificationTray'), { ssr: false });\n\ninterface ShellLayoutProps {\n  children?: React.ReactNode;\n  initialSelectedDepartment?: string | null;\n}\n\nexport function ShellLayout({ children, initialSelectedDepartment = null }: ShellLayoutProps) {\n  const [selectedDepartment, setSelectedDepartment] = useState<string | null>(initialSelectedDepartment);\n  const [historyOpen, setHistoryOpen] = useState(false);\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* Sidebar */}\n      <Sidebar\n        selectedDepartment={selectedDepartment}\n        onDepartmentSelect={setSelectedDepartment}\n        onPlusClick={() => setHistoryOpen(true)}\n      />\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <Header />\n        <main className=\"relative flex-1 overflow-hidden\">\n          <div className=\"h-full flex\">\n            {/* Primary content area */}\n            <div className=\"flex-1 overflow-auto\">\n              {selectedDepartment ? (\n                <div className=\"h-full\">\n                  {/* This is where remote microfrontends will be loaded */}\n                  <div className=\"p-6\">\n                    <h2 className=\"text-2xl font-semibold mb-4\">\n                      {selectedDepartment.charAt(0).toUpperCase() + selectedDepartment.slice(1)} Department\n                    </h2>\n                    <p className=\"text-gray-600\">\n                      Loading {selectedDepartment} application...\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                <MainContent />\n              )}\n              {children}\n            </div>\n\n            {/* Right panel after header */}\n            <aside className=\"hidden lg:block w-72 shrink-0 border-l border-gray-200 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50\">\n              <div className=\"pt-8 px-3 space-y-3\">\n                <div className=\"relative\">\n                  {/* Banner style header */}\n                  <div className=\"flex items-center rounded-lg rounded-b-none shadow-sm px-4 py-3\" style={{ backgroundColor: 'var(--primary)' }}>\n                    <span className=\"text-white text-sm font-semibold\">Notifications</span>\n                  </div>\n                  {/* Small notch */}\n                  <div className=\"absolute -top-2 right-8 w-4 h-4 rotate-45\" style={{ backgroundColor: 'var(--primary)', borderRadius: 2 }} />\n                </div>\n                <NotificationTray embedded controls showClose />\n\n                {/* Announcements */}\n                <section className=\"mt-4 bg-white rounded-xl shadow-sm ring-1 ring-gray-200/70 p-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"h-7 w-7 rounded-full brand-soft brand-text flex items-center justify-center\">\n                      <MegaphoneIcon className=\"w-4 h-4\" />\n                    </div>\n                    <h3 className=\"text-sm font-semibold\" style={{ color: '#0f172a' }}>Announcements</h3>\n                  </div>\n                  <div className=\"mt-3 p-3 rounded-lg brand-soft\" style={{ color: '#0f172a' }}>\n                    <div className=\"text-sm font-semibold\">System Maintenance Scheduled</div>\n                    <div className=\"text-xs mt-1\" style={{ opacity: 0.8 }}>This Sunday from 2 AM to 4 AM.</div>\n                  </div>\n                </section>\n\n                {/* Quick Links */}\n                <section className=\"mt-4 bg-white rounded-xl shadow-sm ring-1 ring-gray-200/70 p-4\">\n                  <h3 className=\"text-sm font-semibold mb-3\" style={{ color: '#0f172a' }}>Quick Links</h3>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <a href=\"#\" className=\"flex items-center gap-2 rounded-lg brand-soft px-3 py-2 hover:opacity-90\">\n                      <EnvelopeIcon className=\"w-5 h-5 brand-text\" />\n                      <span className=\"text-sm\" style={{ color: '#0f172a' }}>Outlook</span>\n                    </a>\n                    <a href=\"#\" className=\"flex items-center gap-2 rounded-lg brand-soft px-3 py-2 hover:opacity-90\">\n                      <UserGroupIcon className=\"w-5 h-5 brand-text\" />\n                      <span className=\"text-sm\" style={{ color: '#0f172a' }}>Teams</span>\n                    </a>\n                    <a href=\"#\" className=\"flex items-center gap-2 rounded-lg brand-soft px-3 py-2 hover:opacity-90\">\n                      <ChatBubbleLeftRightIcon className=\"w-5 h-5 brand-text\" />\n                      <span className=\"text-sm\" style={{ color: '#0f172a' }}>Slack</span>\n                    </a>\n                    <a href=\"#\" className=\"flex items-center gap-2 rounded-lg brand-soft px-3 py-2 hover:opacity-90\">\n                      <Squares2X2Icon className=\"w-5 h-5 brand-text\" />\n                      <span className=\"text-sm\" style={{ color: '#0f172a' }}>Trello</span>\n                    </a>\n                  </div>\n                </section>\n              </div>\n            </aside>\n          </div>\n        </main>\n        <SearchHistoryDrawer open={historyOpen} onClose={() => setHistoryOpen(false)} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}