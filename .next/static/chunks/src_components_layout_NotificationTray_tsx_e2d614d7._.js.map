{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NChinnappan/SourceAI/UI/shell-app/src/components/layout/NotificationTray.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useMemo, useRef, useState } from \"react\";\n\nexport interface NotificationItem {\n  id: string;\n  title: string;\n  body?: string;\n  time?: string;\n  tone?: \"info\" | \"success\" | \"warning\" | \"error\";\n}\n\nconst seed: NotificationItem[] = [\n  { id: \"n1\", title: \"Relax and chill, we've got you covered :)\", body: \"\", time: \"just now\", tone: \"info\" },\n  { id: \"n2\", title: \"Weekly status is ready\", body: \"Click to view in Ashley Net\", time: \"3m\", tone: \"success\" },\n  { id: \"n3\", title: \"Payroll cutoff at 5pm\", body: \"Don't forget to approve timesheets\", time: \"18m\", tone: \"warning\" },\n  { id: \"n4\", title: \"Transport: Route change\", body: \"Dock 4 closed.\", time: \"1h\", tone: \"error\" },\n  { id: \"n5\", title: \"AS400 planned maintenance\", body: \"Tonight 11pm-1am\", time: \"2h\", tone: \"info\" },\n];\n\nfunction toneClasses(tone: NotificationItem[\"tone\"]) {\n  switch (tone) {\n    case \"success\": return \"from-emerald-300 to-emerald-700\";\n    case \"warning\": return \"from-amber-300 to-orange-700\";\n    case \"error\": return \"from-rose-400 to-rose-800\";\n    default: return \"from-sky-300 to-indigo-800\";\n  }\n}\n\nconst gradients = [\n  \"from-yellow-300 via-lime-500 to-teal-700\",\n  \"from-blue-400 to-indigo-800\",\n  \"from-rose-400 to-red-700\",\n  \"from-slate-500 to-slate-800\",\n  \"from-amber-400 to-orange-700\",\n];\n\nexport default function NotificationTray({ embedded = false, showClose = false, controls = false }: { embedded?: boolean; showClose?: boolean; controls?: boolean }) {\n  const [items, setItems] = useState<NotificationItem[]>(seed);\n  const [draggingId, setDraggingId] = useState<string | null>(null);\n  const posRef = useRef<Record<string, { x: number }>>({});\n\n  const remove = useCallback((id: string) => {\n    setItems((prev) => prev.filter((n) => n.id !== id));\n    delete posRef.current[id];\n  }, []);\n\n  const start = useCallback((id: string, clientX: number) => {\n    setDraggingId(id);\n    posRef.current[id] = { x: 0 };\n    (posRef.current as any)[`${id}-startX`] = clientX;\n  }, []);\n\n  const move = useCallback((id: string, clientX: number) => {\n    const startX = (posRef.current as any)[`${id}-startX`];\n    if (startX == null) return;\n    const dx = clientX - startX;\n    posRef.current[id] = { x: dx };\n  }, []);\n\n  const end = useCallback((id: string) => {\n    const x = posRef.current[id]?.x ?? 0;\n    setDraggingId(null);\n    if (Math.abs(x) > 120) {\n      // swipe threshold met -> dismiss\n      remove(id);\n    } else {\n      // snap back\n      posRef.current[id] = { x: 0 };\n    }\n  }, [remove]);\n\n  const onPointerDown = (id: string) => (e: React.PointerEvent) => {\n    const target = e.target as HTMLElement;\n    if (target && target.closest('[data-nodrag=\"true\"]')) {\n      return; // ignore drags starting from controls/close buttons\n    }\n    (e.currentTarget as HTMLElement).setPointerCapture(e.pointerId);\n    start(id, e.clientX);\n  };\n  const onPointerMove = (id: string) => (e: React.PointerEvent) => move(id, e.clientX);\n  const onPointerUp = (id: string) => () => end(id);\n\n  // derive transforms for rendering\n  const transforms = useMemo(() => {\n    const map: Record<string, { x: number; opacity: number; rot: number }> = {};\n    for (const it of items) {\n      const x = posRef.current[it.id]?.x ?? 0;\n      const clamped = Math.max(-240, Math.min(240, x));\n      const opacity = 1 - Math.min(1, Math.abs(clamped) / 200);\n      const rot = (clamped / 240) * 6; // slight tilt\n      map[it.id] = { x: clamped, opacity, rot };\n    }\n    return map;\n  }, [items, draggingId]);\n\n  if (items.length === 0) return null;\n\n  const deck = items.slice(0, 5); // show up to 5 stacked\n  const topId = deck[0]?.id;\n\n  const panelClass = embedded\n    ? \"pointer-events-auto w-full\"\n    : \"pointer-events-none fixed right-6 top-24 z-50 w-[420px] max-w-[92vw]\";\n  const offsetStep = embedded ? 12 : 24;\n  const scaleStep = embedded ? 0.02 : 0.03;\n  const cardHeight = embedded ? 140 : 220;\n  const cardWidth = embedded ? 280 : 420;\n  const stackOverlap = embedded ? offsetStep * (Math.min(deck.length, 5) - 1) : 0;\n  const containerStyle: React.CSSProperties = { height: embedded ? 200 : 260, marginTop: stackOverlap };\n\n  return (\n    <aside className={panelClass}>\n      <div className=\"relative\" style={containerStyle}>\n        {deck.map((n, i) => {\n          const depth = i; // 0 is top\n          const offsetY = -depth * offsetStep;\n          const scale = 1 - depth * scaleStep;\n          const z = 100 - depth;\n          const t = n.id === topId ? (transforms[n.id] || { x: 0, opacity: 1, rot: 0 }) : { x: 0, opacity: 1, rot: 0 };\n          const grad = gradients[depth % gradients.length] || toneClasses(n.tone);\n          const isTop = n.id === topId;\n          return (\n            <div\n              key={n.id}\n              role=\"status\"\n              className={`pointer-events-auto absolute left-1/2 -translate-x-1/2 rounded-2xl shadow-xl ring-1 ring-black/5 select-none bg-gradient-to-r ${grad}`}\n              style={{\n                width: cardWidth,\n                height: cardHeight,\n                transform: `translate3d(${t.x}px, ${offsetY}px, 0) rotate(${t.rot}deg) scale(${scale})`,\n                opacity: t.opacity,\n                zIndex: z,\n                transition: isTop ? \"transform 320ms cubic-bezier(.22,1,.36,1), opacity 220ms ease\" : \"transform 320ms cubic-bezier(.22,1,.36,1)\",\n              }}\n              onPointerDown={isTop ? onPointerDown(n.id) : undefined}\n              onPointerMove={isTop ? onPointerMove(n.id) : undefined}\n              onPointerUp={isTop ? onPointerUp(n.id) : undefined}\n            >\n              {showClose && isTop && (\n                <button\n                  type=\"button\"\n                  data-nodrag=\"true\"\n                  aria-label=\"Close notification\"\n                  className=\"absolute top-2 right-2 z-10 h-7 w-7 rounded-full bg-black/30 text-white/90 hover:bg-black/40 flex items-center justify-center\"\n                  onClick={(e) => { e.stopPropagation(); remove(n.id); }}\n                >\n                  Ã—\n                </button>\n              )}\n              <div className=\"w-full h-full rounded-2xl overflow-hidden\">\n                <div className=\"w-full h-full flex items-center justify-center text-white text-[15px] font-medium tracking-tight px-6 text-center drop-shadow-[0_1px_1px_rgba(0,0,0,.25)]\">\n                  {n.title}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n        {controls && (\n          <div className=\"absolute -bottom-2 left-1/2 -translate-x-1/2 flex items-center gap-2\">\n            <button\n              type=\"button\"\n              data-nodrag=\"true\"\n              aria-label=\"Previous notification\"\n              className=\"h-8 w-8 rounded-full bg-white/90 text-gray-700 shadow ring-1 ring-gray-200 hover:bg-white text-transparent relative\"\n              onClick={() => setItems((prev) => (prev.length > 1 ? [prev[prev.length-1], ...prev.slice(0, prev.length-1)] : prev))}\n            >\n            <svg className=\"absolute inset-0 m-auto h-4 w-4 text-gray-700\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <path d=\"M15 18l-6-6 6-6\" />\n            </svg>\n\n            </button>\n            <button\n              type=\"button\"\n              data-nodrag=\"true\"\n              aria-label=\"Next notification\"\n              className=\"h-8 w-8 rounded-full bg-white/90 text-gray-700 shadow ring-1 ring-gray-200 hover:bg-white text-transparent relative\"\n              onClick={() => setItems((prev) => (prev.length > 1 ? [...prev.slice(1), prev[0]] : prev))}\n            >\n              <svg className=\"absolute inset-0 m-auto h-4 w-4 text-gray-700\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <path d=\"M9 6l6 6-6 6\" />\n              </svg>\n            </button>\n          </div>\n        )}\n\n      </div>\n    </aside>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}